<div class="highlight"><pre><span class="nb">require</span> <span class="s1">&#39;minitest/autorun&#39;</span>
<span class="n">require_relative</span> <span class="s1">&#39;ocr&#39;</span>

<span class="k">class</span> <span class="nc">OCRTest</span> <span class="o">&lt;</span> <span class="ss">MiniTest</span><span class="p">:</span><span class="ss">:Unit</span><span class="o">::</span><span class="no">TestCase</span>

  <span class="k">def</span> <span class="nf">test_recognize_zero</span>
    <span class="n">text</span> <span class="o">=</span> <span class="o">&lt;&lt;-</span><span class="no">NUMBER</span><span class="o">.</span><span class="n">chomp</span>
<span class="sh"> _ </span>
<span class="sh">| |</span>
<span class="sh">|_|</span>
<span class="sh">   </span>
<span class="no">    NUMBER</span>
    <span class="n">assert_equal</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="no">OCR</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">text</span><span class="p">)</span><span class="o">.</span><span class="n">convert</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">test_recognize_one</span>
    <span class="n">skip</span>
    <span class="n">text</span> <span class="o">=</span> <span class="o">&lt;&lt;-</span><span class="no">NUMBER</span><span class="o">.</span><span class="n">chomp</span>
<span class="sh">   </span>
<span class="sh">  |</span>
<span class="sh">  |</span>
<span class="sh">   </span>
<span class="no">    NUMBER</span>
    <span class="n">assert_equal</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="no">OCR</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">text</span><span class="p">)</span><span class="o">.</span><span class="n">convert</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">test_recognize_two</span>
    <span class="n">skip</span>
    <span class="n">text</span> <span class="o">=</span> <span class="o">&lt;&lt;-</span><span class="no">NUMBER</span><span class="o">.</span><span class="n">chomp</span>
<span class="sh"> _ </span>
<span class="sh"> _|</span>
<span class="sh">|_ </span>
<span class="sh">   </span>
<span class="no">    NUMBER</span>
    <span class="n">assert_equal</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="no">OCR</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">text</span><span class="p">)</span><span class="o">.</span><span class="n">convert</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">test_recognize_three</span>
    <span class="n">skip</span>
    <span class="n">text</span> <span class="o">=</span> <span class="o">&lt;&lt;-</span><span class="no">NUMBER</span><span class="o">.</span><span class="n">chomp</span>
<span class="sh"> _ </span>
<span class="sh"> _|</span>
<span class="sh"> _|</span>
<span class="sh">   </span>
<span class="no">    NUMBER</span>
    <span class="n">assert_equal</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="no">OCR</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">text</span><span class="p">)</span><span class="o">.</span><span class="n">convert</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">test_recognize_four</span>
    <span class="n">skip</span>
    <span class="n">text</span> <span class="o">=</span> <span class="o">&lt;&lt;-</span><span class="no">NUMBER</span><span class="o">.</span><span class="n">chomp</span>
<span class="sh">   </span>
<span class="sh">|_|</span>
<span class="sh">  |</span>
<span class="sh">   </span>
<span class="no">    NUMBER</span>
    <span class="n">assert_equal</span> <span class="s2">&quot;4&quot;</span><span class="p">,</span> <span class="no">OCR</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">text</span><span class="p">)</span><span class="o">.</span><span class="n">convert</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">test_recognize_five</span>
    <span class="n">skip</span>
    <span class="n">text</span> <span class="o">=</span> <span class="o">&lt;&lt;-</span><span class="no">NUMBER</span><span class="o">.</span><span class="n">chomp</span>
<span class="sh"> _ </span>
<span class="sh">|_ </span>
<span class="sh"> _|</span>
<span class="sh">   </span>
<span class="no">    NUMBER</span>
    <span class="n">assert_equal</span> <span class="s2">&quot;5&quot;</span><span class="p">,</span> <span class="no">OCR</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">text</span><span class="p">)</span><span class="o">.</span><span class="n">convert</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">test_recognize_six</span>
    <span class="n">skip</span>
    <span class="n">text</span> <span class="o">=</span> <span class="o">&lt;&lt;-</span><span class="no">NUMBER</span><span class="o">.</span><span class="n">chomp</span>
<span class="sh"> _ </span>
<span class="sh">|_ </span>
<span class="sh">|_|</span>
<span class="sh">   </span>
<span class="no">    NUMBER</span>
    <span class="n">assert_equal</span> <span class="s2">&quot;6&quot;</span><span class="p">,</span> <span class="no">OCR</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">text</span><span class="p">)</span><span class="o">.</span><span class="n">convert</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">test_recognize_seven</span>
    <span class="n">skip</span>
    <span class="n">text</span> <span class="o">=</span> <span class="o">&lt;&lt;-</span><span class="no">NUMBER</span><span class="o">.</span><span class="n">chomp</span>
<span class="sh"> _ </span>
<span class="sh">  |</span>
<span class="sh">  |</span>
<span class="sh">   </span>
<span class="no">    NUMBER</span>
    <span class="n">assert_equal</span> <span class="s2">&quot;7&quot;</span><span class="p">,</span> <span class="no">OCR</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">text</span><span class="p">)</span><span class="o">.</span><span class="n">convert</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">test_recognize_eight</span>
    <span class="n">skip</span>
    <span class="n">text</span> <span class="o">=</span> <span class="o">&lt;&lt;-</span><span class="no">NUMBER</span><span class="o">.</span><span class="n">chomp</span>
<span class="sh"> _ </span>
<span class="sh">|_|</span>
<span class="sh">|_|</span>
<span class="sh">   </span>
<span class="no">    NUMBER</span>
    <span class="n">assert_equal</span> <span class="s2">&quot;8&quot;</span><span class="p">,</span> <span class="no">OCR</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">text</span><span class="p">)</span><span class="o">.</span><span class="n">convert</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">test_recognize_nine</span>
    <span class="n">skip</span>
    <span class="n">text</span> <span class="o">=</span> <span class="o">&lt;&lt;-</span><span class="no">NUMBER</span><span class="o">.</span><span class="n">chomp</span>
<span class="sh"> _ </span>
<span class="sh">|_|</span>
<span class="sh"> _|</span>
<span class="sh">   </span>
<span class="no">    NUMBER</span>
    <span class="n">assert_equal</span> <span class="s2">&quot;9&quot;</span><span class="p">,</span> <span class="no">OCR</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">text</span><span class="p">)</span><span class="o">.</span><span class="n">convert</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">test_identify_garble</span>
    <span class="n">skip</span>
    <span class="n">text</span> <span class="o">=</span> <span class="o">&lt;&lt;-</span><span class="no">NUMBER</span><span class="o">.</span><span class="n">chomp</span>
<span class="sh">   </span>
<span class="sh">| |</span>
<span class="sh">| |</span>
<span class="sh">   </span>
<span class="no">    NUMBER</span>
    <span class="n">assert_equal</span> <span class="s2">&quot;?&quot;</span><span class="p">,</span> <span class="no">OCR</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">text</span><span class="p">)</span><span class="o">.</span><span class="n">convert</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">test_identify_10</span>
    <span class="n">skip</span>
    <span class="n">text</span> <span class="o">=</span> <span class="o">&lt;&lt;-</span><span class="no">NUMBER</span><span class="o">.</span><span class="n">chomp</span>
<span class="sh">    _ </span>
<span class="sh">  || |</span>
<span class="sh">  ||_|</span>
<span class="sh">      </span>
<span class="no">    NUMBER</span>
    <span class="n">assert_equal</span> <span class="s2">&quot;10&quot;</span><span class="p">,</span> <span class="no">OCR</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">text</span><span class="p">)</span><span class="o">.</span><span class="n">convert</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">test_identify_110101100</span>
    <span class="n">skip</span>
    <span class="n">text</span> <span class="o">=</span> <span class="o">&lt;&lt;-</span><span class="no">NUMBER</span><span class="o">.</span><span class="n">chomp</span>
<span class="sh">       _     _        _  _ </span>
<span class="sh">  |  || |  || |  |  || || |</span>
<span class="sh">  |  ||_|  ||_|  |  ||_||_|</span>
<span class="sh">                           </span>
<span class="no">    NUMBER</span>
    <span class="n">assert_equal</span> <span class="s2">&quot;110101100&quot;</span><span class="p">,</span> <span class="no">OCR</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">text</span><span class="p">)</span><span class="o">.</span><span class="n">convert</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">test_identify_with_garble</span>
    <span class="n">skip</span>
    <span class="n">text</span> <span class="o">=</span> <span class="o">&lt;&lt;-</span><span class="no">NUMBER</span><span class="o">.</span><span class="n">chomp</span>
<span class="sh">       _     _           _ </span>
<span class="sh">  |  || |  || |     || || |</span>
<span class="sh">  |  | _|  ||_|  |  ||_||_|</span>
<span class="sh">                           </span>
<span class="no">    NUMBER</span>
    <span class="n">assert_equal</span> <span class="s2">&quot;11?10?1?0&quot;</span><span class="p">,</span> <span class="no">OCR</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">text</span><span class="p">)</span><span class="o">.</span><span class="n">convert</span>

  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">test_identify_1234567890</span>
    <span class="n">skip</span>
    <span class="n">text</span> <span class="o">=</span> <span class="o">&lt;&lt;-</span><span class="no">NUMBER</span><span class="o">.</span><span class="n">chomp</span>
<span class="sh">    _  _     _  _  _  _  _  _ </span>
<span class="sh">  | _| _||_||_ |_   ||_||_|| |</span>
<span class="sh">  ||_  _|  | _||_|  ||_| _||_|</span>
<span class="sh">                              </span>
<span class="no">    NUMBER</span>
    <span class="n">assert_equal</span> <span class="s2">&quot;1234567890&quot;</span><span class="p">,</span> <span class="no">OCR</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">text</span><span class="p">)</span><span class="o">.</span><span class="n">convert</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">test_identify_123_456_789</span>
    <span class="n">skip</span>
    <span class="n">text</span> <span class="o">=</span> <span class="o">&lt;&lt;-</span><span class="no">NUMBER</span><span class="o">.</span><span class="n">chomp</span>
<span class="sh">    _  _ </span>
<span class="sh">  | _| _|</span>
<span class="sh">  ||_  _|</span>
<span class="sh">         </span>
<span class="sh">    _  _ </span>
<span class="sh">|_||_ |_ </span>
<span class="sh">  | _||_|</span>
<span class="sh">         </span>
<span class="sh"> _  _  _ </span>
<span class="sh">  ||_||_|</span>
<span class="sh">  ||_| _|</span>
<span class="sh">         </span>
<span class="no">NUMBER</span>
    <span class="n">assert_equal</span> <span class="s2">&quot;123,456,789&quot;</span><span class="p">,</span> <span class="no">OCR</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">text</span><span class="p">)</span><span class="o">.</span><span class="n">convert</span>
  <span class="k">end</span>

<span class="k">end</span>
</pre></div>